
<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
<title>Benimle √ßƒ±kar mƒ±sƒ±n? ‚Äî modern üíó</title>
<style>
  :root{
    /* default = mor */
    --bg0:#0f1020; --bg1:#191a2e; --ink:#e9e9ef; --muted:#a7a7b8;
    --glass: rgba(255,255,255,.12);
    --border: rgba(255,255,255,.18);
    --yes:#a46bff; --yes2:#d47cff;     /* mor */
    --no:#7c86ff;  --no2:#9eb0ff;
    --blob1:#c38bff; --blob2:#8fa0ff; --blob3:#2ee6a6;
    --ok:#2ee6a6;
    --yes-scale:1; --yes-font:1rem; --yes-pad:16px 22px;
  }
  /* Tema: deniz */
  [data-theme="deniz"]{
    --bg0:#081b24; --bg1:#0f2a33; --ink:#e9f6ff; --muted:#9fb7c3;
    --yes:#00b3ff; --yes2:#4dd5ff;
    --no:#009a9a;  --no2:#26c6c6;
    --blob1:#00c2ff; --blob2:#00e6c3; --blob3:#7af0ff;
  }
  /* Tema: g√ºne≈ü */
  [data-theme="gunes"]{
    --bg0:#1f1300; --bg1:#2c1b02; --ink:#fff6e8; --muted:#d9c1a3;
    --yes:#ff8a00; --yes2:#ffbb33;
    --no:#ff4d5a;  --no2:#ff808a;
    --blob1:#ffcc66; --blob2:#ff8a66; --blob3:#ffd54d;
  }
  /* Tema: z√ºmr√ºt */
  [data-theme="zumrut"]{
    --bg0:#061511; --bg1:#0a221b; --ink:#e3fff6; --muted:#a6cbbf;
    --yes:#00c98b; --yes2:#43e6aa;
    --no:#3aa1ff;  --no2:#79c2ff;
    --blob1:#00e6a6; --blob2:#38dfff; --blob3:#66ffcc;
  }

  /* Light fallback (mor varyasyonu) */
  @media (prefers-color-scheme: light){
    :root{
      --bg0:#f6f7ff; --bg1:#ffffff; --ink:#1b1b22; --muted:#6d6e80;
      --glass: rgba(255,255,255,.65);
      --border: rgba(30,30,60,.08);
    }
  }

  *{box-sizing:border-box}
  html,body{height:100%}

  /* ====== Animated Background ====== */
  body{
    margin:0; color:var(--ink);
    font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial;
    background: radial-gradient(1100px 800px at 15% 10%, color-mix(in oklab, var(--blob1) 30%, transparent), transparent 55%),
                radial-gradient(1100px 800px at 85% 90%, color-mix(in oklab, var(--blob2) 30%, transparent), transparent 55%),
                linear-gradient(120deg, var(--bg0), var(--bg1));
    min-height:100%;
    display:grid; place-items:center;
    overflow-x:hidden;
    padding: max(14px, env(safe-area-inset-top)) max(14px, env(safe-area-inset-right))
             max(90px, env(safe-area-inset-bottom)) max(14px, env(safe-area-inset-left));
  }

  .blobs{ position:fixed; inset:0; pointer-events:none; filter: blur(50px) saturate(120%); opacity:.6 }
  .blob{
    position:absolute; width:42vmax; height:42vmax; border-radius:50%;
    background: radial-gradient(circle at 30% 30%, var(--blob1), transparent 60%);
    mix-blend-mode: plus-lighter;
    animation: float 16s ease-in-out infinite;
  }
  .blob.b2{ right:-10%; top:10%; background:radial-gradient(circle at 70% 30%, var(--blob2), transparent 60%); animation-duration:20s }
  .blob.b3{ left:40%; top:70%; background:radial-gradient(circle at 50% 50%, var(--blob3), transparent 60%); animation-duration:22s }

  @keyframes float{
    0%,100%{ transform:translateY(0) translateX(0) scale(1) }
    50%    { transform:translateY(-6%) translateX(3%) scale(1.06) }
  }

  /* ====== Top Bar (Tema Paleti) ====== */
  .topbar{
    position:fixed; top: max(10px, env(safe-area-inset-top)); right: max(10px, env(safe-area-inset-right));
    display:flex; gap:8px; align-items:center; z-index:60;
    background: var(--glass); border:1px solid var(--border); backdrop-filter: blur(10px) saturate(120%);
    padding:6px 10px; border-radius:999px;
  }
  .chip{
    width:22px; height:22px; border-radius:50%; border:1px solid var(--border); cursor:pointer;
    box-shadow: inset 0 1px 0 rgba(255,255,255,.25);
  }
  .chip.mor{    background:linear-gradient(135deg,#a46bff,#d47cff) }
  .chip.deniz{  background:linear-gradient(135deg,#00b3ff,#4dd5ff) }
  .chip.gunes{  background:linear-gradient(135deg,#ff8a00,#ffbb33) }
  .chip.zumrut{ background:linear-gradient(135deg,#00c98b,#43e6aa) }

  /* ====== Glass Card ====== */
  .card{
    width:min(820px, 100%);
    background: var(--glass);
    border:1px solid var(--border);
    border-radius:28px;
    backdrop-filter: blur(14px) saturate(120%);
    -webkit-backdrop-filter: blur(14px) saturate(120%);
    padding: clamp(20px, 4vw, 36px);
    box-shadow: 0 10px 30px rgba(0,0,0,.18), inset 0 1px 0 rgba(255,255,255,.15);
    position:relative; overflow:visible;
    transform-style: preserve-3d;
  }
  .shine{
    content:""; position:absolute; inset:-1px; border-radius:inherit; pointer-events:none;
    background: radial-gradient(600px 300px at var(--mx,60%) var(--my,20%), rgba(255,255,255,.35), transparent 60%);
    transition: opacity .3s ease; opacity:.7;
  }

  h1{ margin:0 0 6px; text-align:center; line-height:1.05; font-size:clamp(26px, 5.8vw, 48px); font-weight:900; letter-spacing:-.02em; }
  .sub{ margin:0; text-align:center; color:var(--muted); font-size:clamp(14px, 2.9vw, 16px) }

  /* ====== Buttons ====== */
  .buttons{
    position:relative; /* Hayƒ±r burada ka√ßacak */
    margin: min(6vw,28px) auto 12px;
    display:flex; flex-wrap:wrap; gap:14px; justify-content:center; align-items:center;
    min-height:96px;
  }

  button{
    border:none; border-radius:16px; cursor:pointer; touch-action:manipulation;
    min-height:52px; min-width:220px; font-weight:900; letter-spacing:.2px;
    transition: transform .18s cubic-bezier(.2,.9,.2,1), background-color .18s ease, color .18s ease, box-shadow .18s ease, opacity .18s ease;
    box-shadow: 0 8px 24px rgba(0,0,0,.18);
  }

  .btn-yes{
    background: linear-gradient(135deg, var(--yes), var(--yes2));
    color:#fff; transform: translateZ(0) scale(var(--yes-scale));
    font-size: calc(var(--yes-font)); padding: var(--yes-pad);
  }
  .btn-yes:active{ transform:scale(calc(var(--yes-scale)*.98)); }

  .btn-no{
    background: linear-gradient(135deg, var(--no), var(--no2));
    color:#fff; padding:16px 22px; font-size:1rem; position:relative;
  }
  .btn-no:active{ opacity:.9 }

  /* Akƒ±llƒ± Mesaj paneli */
  .smart{
    display:none; gap:8px; justify-content:center; flex-wrap:wrap; margin-top:10px;
  }
  .smart.show{ display:flex }
  .btn-outline{
    background:transparent; color:var(--ink); border:1px solid var(--border); padding:12px 16px; border-radius:12px; font-weight:800;
    backdrop-filter: blur(8px);
  }

  /* FAB yes bottom (mobile tek ‚ÄúEvet‚Äù) */
  .fab{ position: fixed; left: 50%; bottom: max(12px, env(safe-area-inset-bottom)); transform: translateX(-50%); z-index: 50; display:none; filter: drop-shadow(0 12px 28px rgba(0,0,0,.28)); }
  .fab .btn-yes{ border-radius:999px; min-width: clamp(240px, 72vw, 460px); min-height:60px }

  @media (max-width:680px){
    .buttons{ flex-direction:column }
    #yesTop{ display:none }       /* mobilde √ºstteki Evet gizli */
    .fab{ display:block }         /* alttaki Evet aktif */
  }

  /* Mascot */
  .mascot{ display:flex; gap:14px; justify-content:center; align-items:center; flex-wrap:wrap; margin-top:6px; }
  .face{ width: clamp(74px, 22vw, 100px); height:auto; filter: drop-shadow(0 8px 18px rgba(0,0,0,.20)) }
  .bubble{
    background: rgba(255,255,255,.75); border:1px solid rgba(255,255,255,.6);
    padding:10px 14px; border-radius:14px; font-weight:800; color:inherit; backdrop-filter: blur(6px);
    max-width:min(560px, 92%); text-align:center; font-size:clamp(14px, 3.5vw, 16px)
  }
  @media (prefers-color-scheme: dark){
    .bubble{ background: rgba(32,32,48,.55); border-color: rgba(255,255,255,.12) }
  }

  /* Hearts Gooey */
  .fx{ position:absolute; inset:0; pointer-events:none; overflow:hidden; filter: url(#goo); }
  .heart{ position:absolute; font-size:22px; animation: rise 1.9s ease-in forwards; opacity:0; }
  @keyframes rise{ 0%{ transform: translateY(10px) scale(.7); opacity:0 } 10%{ opacity:1 } 100%{ transform: translateY(-160%) scale(1.4); opacity:0 } }

  .tiny{ text-align:center; color:var(--muted); font-size:12px; margin-top:8px }
  @media (prefers-reduced-motion: reduce){ .blob{ animation:none } .btn-yes,.btn-no{ transition:none } .heart{ animation:none } }
</style>
</head>
<body>
  <!-- Tema Paleti -->
  <div class="topbar" aria-label="Tema paleti">
    <span style="font-size:12px; font-weight:800; opacity:.8">Tema:</span>
    <button class="chip mor"    title="Mor"     data-theme="mor"    aria-label="Mor"></button>
    <button class="chip deniz"  title="Deniz"   data-theme="deniz"  aria-label="Deniz"></button>
    <button class="chip gunes"  title="G√ºne≈ü"   data-theme="gunes"  aria-label="G√ºne≈ü"></button>
    <button class="chip zumrut" title="Z√ºmr√ºt"  data-theme="zumrut" aria-label="Z√ºmr√ºt"></button>
  </div>

  <!-- animated blobs -->
  <div class="blobs" aria-hidden="true">
    <div class="blob b1" style="left:-8%; top:-6%"></div>
    <div class="blob b2"></div>
    <div class="blob b3"></div>
  </div>

  <main class="card" id="card" aria-live="polite">
    <div class="shine"></div>

    <h1>Benimle √ßƒ±kar mƒ±sƒ±n? ‚ú®</h1>
    <p class="sub">Her ‚ÄúHayƒ±r‚Äùdan sonra <strong>Evet</strong> biraz daha ikna olur. Bakalƒ±m nereye kadar‚Ä¶</p>

    <div class="buttons" id="buttons">
      <button class="btn-yes" id="yesTop" aria-label="Evet">Evet</button>
      <button class="btn-no"  id="no"     aria-label="Hayƒ±r">Hayƒ±r</button>
      <div class="fx" id="fx"></div>
    </div>

    <!-- Akƒ±llƒ± Mesaj paneli (Evet sonrasƒ± g√∂r√ºn√ºr) -->
    <div class="smart" id="smart">
      <button class="btn-outline" id="btnSmart">Mesaj At (Akƒ±llƒ±)</button>
      <button class="btn-outline" id="btnWA">WhatsApp</button>
      <button class="btn-outline" id="btnIG">Instagram</button>
    </div>

    <div class="mascot">
      <svg id="face" class="face" viewBox="0 0 100 100" aria-hidden="true">
        <defs>
          <linearGradient id="g" x1="0" y1="0" x2="1" y2="1">
            <stop offset="0" stop-color="#ffd1e7"/><stop offset="1" stop-color="#ffc3db"/>
          </linearGradient>
        </defs>
        <path d="M50 83C38 72 16 58 16 38a16 16 0 0 1 30-8 16 16 0 0 1 30 8c0 20-22 34-26 45z" fill="url(#g)" stroke="#ff9ec7" stroke-width="3"/>
        <circle id="eyeL" cx="39" cy="43" r="3.5" fill="#222"/>
        <circle id="eyeR" cx="61" cy="43" r="3.5" fill="#222"/>
        <path id="mouth" d="M40 58 Q50 64 60 58" stroke="#222" stroke-width="3" fill="none" stroke-linecap="round"/>
      </svg>
      <div id="bubble" class="bubble">Merhaba! Cevabƒ±nƒ± heyecanla bekliyorum üí´</div>
    </div>

    <p class="tiny">ƒ∞pucu: ‚ÄúHayƒ±r‚Äù inat√ßƒ±la≈ütƒ±k√ßa ‚ÄúEvet‚Äù b√ºy√ºr. Mobilde sadece alttaki Evet g√∂r√ºn√ºr üëá</p>
  </main>

  <!-- bottom FAB (mobil tek ‚ÄúEvet‚Äù) -->
  <div class="fab">
    <button class="btn-yes" id="yesFab" aria-label="Evet (altta)">Evet</button>
  </div>

  <!-- SVG filters for gooey hearts -->
  <svg width="0" height="0" style="position:absolute">
    <filter id="goo"><feGaussianBlur in="SourceGraphic" stdDeviation="4"/><feColorMatrix values="1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 18 -7"/></filter>
  </svg>

<script>
(() => {
  const root = document.documentElement;
  const yesTop = document.getElementById('yesTop');
  const yesFab = document.getElementById('yesFab');
  const yesButtons = [yesTop, yesFab].filter(Boolean);
  const no = document.getElementById('no');
  const bubble = document.getElementById('bubble');
  const mouth = document.getElementById('mouth');
  const eyeL = document.getElementById('eyeL');
  const eyeR = document.getElementById('eyeR');
  const card = document.getElementById('card');
  const shine = card.querySelector('.shine');
  const fx = document.getElementById('fx');
  const buttonsWrap = document.getElementById('buttons');
  const smart = document.getElementById('smart');
  const btnSmart = document.getElementById('btnSmart');
  const btnWA = document.getElementById('btnWA');
  const btnIG = document.getElementById('btnIG');

  /* ---- Tema Paleti ---- */
  document.querySelectorAll('.chip').forEach(chip=>{
    chip.addEventListener('click', ()=>{
      const t = chip.getAttribute('data-theme');
      if(t === 'mor') root.removeAttribute('data-theme');
      else root.setAttribute('data-theme', t);
    });
  });

  /* ---- Magnetic tilt + shine ---- */
  card.addEventListener('pointermove', (e)=>{
    const r = card.getBoundingClientRect();
    const x = (e.clientX - r.left)/r.width, y = (e.clientY - r.top)/r.height;
    const rotX = (y - .5)*4, rotY = (x - .5)*-6;
    card.style.transform = `perspective(900px) rotateX(${rotX}deg) rotateY(${rotY}deg)`;
    shine.style.setProperty('--mx', `${x*100}%`);
    shine.style.setProperty('--my', `${y*100}%`);
  });
  card.addEventListener('pointerleave', ()=>{ card.style.transform = 'none'; });

  /* ---- Copy that gets meaner ---- */
  const noTexts = [
    "Hayƒ±r","HAYIR.","Net: Hayƒ±r ‚ùå","Asla.","Israr etme, hayƒ±r.",
    "Konu kapandƒ±: Hayƒ±r.","Son kararƒ±m: Hayƒ±r.","Hayƒ±r ve tekrar hayƒ±r.",
    "H√¢l√¢ hayƒ±r.","Kesinlikle HAYIR."
  ];
  let noCount = 0;

  /* ---- Haptics ---- */
  const vibrate = (ms=14) => (navigator.vibrate?.(ms));

  /* ---- YES growth ---- */
  function applyYesGrowth(){
    const base = 1 + noCount * 0.16;
    const scale = Math.min(base, 3.2);
    const font = Math.min(1 + noCount * 0.085, 2.0);
    const padV = Math.min(16 + noCount * 2, 28);
    const padH = Math.min(22 + noCount * 7, 68);
    root.style.setProperty('--yes-scale', scale);
    root.style.setProperty('--yes-font', `calc(1rem * ${font})`);
    root.style.setProperty('--yes-pad', `${padV}px ${padH}px`);
    yesButtons.forEach(btn=>{
      btn.animate([{transform:`scale(${scale*1.04})`},{transform:`scale(${scale})`}],
        {duration:180, easing:'cubic-bezier(.2,1.4,.2,1)'} );
    });
  }

  function setNoText(){ no.textContent = noTexts[Math.min(noCount, noTexts.length-1)]; }

  function mascotReact(){
    const smile='M40 58 Q50 64 60 58', flat='M40 60 Q50 62 60 60', sad='M40 63 Q50 58 60 63', sadder='M40 66 Q50 54 60 66';
    if(noCount===0){ mouth.setAttribute('d',smile); bubble.textContent="Merhaba! Cevabƒ±nƒ± heyecanla bekliyorum üí´"; }
    else if(noCount<=2){ mouth.setAttribute('d',flat); bubble.textContent="Naz mƒ± yapƒ±yorsun? üôÇ"; }
    else if(noCount<=5){ mouth.setAttribute('d',sad); bubble.textContent="Of‚Ä¶ yine hayƒ±r mƒ±?"; }
    else { mouth.setAttribute('d',sadder); bubble.textContent="Kalbim kƒ±rƒ±lƒ±yor ama pes etmiyorum üíß"; }
    bubble.animate([{transform:'scale(.95)', opacity:.9},{transform:'scale(1)', opacity:1}], {duration:160, easing:'ease-out'});
  }

  /* ---- Hearts burst ---- */
  function burstHearts(){
    const rect = (yesTop.offsetParent ? yesTop : yesFab).getBoundingClientRect();
    const baseX = rect.left + rect.width/2 - buttonsWrap.getBoundingClientRect().left;
    const pool = ['üíñ','üíó','üíò','üíù'];
    for(let i=0;i<16;i++){
      const span = document.createElement('span');
      span.className = 'heart';
      span.textContent = pool[i%pool.length];
      span.style.left = (baseX + (Math.random()*120-60))+'px';
      span.style.bottom = '8px';
      span.style.fontSize = (18 + Math.random()*18)+'px';
      span.style.animationDelay = (Math.random()*0.35)+'s';
      fx.appendChild(span);
      span.addEventListener('animationend', ()=> span.remove());
    }
  }

  /* ---- Eye track ---- */
  let lastPointer = {x:0, y:0};
  window.addEventListener('pointermove', (e)=>{ lastPointer = {x:e.clientX, y:e.clientY}; });
  (function trackEyes(){
    const r = card.getBoundingClientRect();
    const ex = (lastPointer.x - (r.left + r.width/2)) / (r.width/2);
    const ey = (lastPointer.y - (r.top + r.height/2)) / (r.height/2);
    const dx = Math.max(-2.5, Math.min(2.5, ex*2.5));
    const dy = Math.max(-2.5, Math.min(2.5, ey*2.5));
    eyeL.setAttribute('cx', 39+dx); eyeL.setAttribute('cy', 43+dy);
    eyeR.setAttribute('cx', 61+dx); eyeR.setAttribute('cy', 43+dy);
    requestAnimationFrame(trackEyes);
  })();

  /* ---- No evasive inside canvas ---- */
  function moveNoInside(){
    if(noCount < 3) return;
    const wrapRect = buttonsWrap.getBoundingClientRect();
    const btnRect  = no.getBoundingClientRect();
    const maxLeft = wrapRect.width - btnRect.width - 6;
    const maxTop  = Math.max(0, wrapRect.height - btnRect.height - 6);
    const left = Math.max(0, Math.min(maxLeft, Math.random()*maxLeft));
    const top  = Math.max(0, Math.min(maxTop,  Math.random()*maxTop));
    // absolute pozisyonu .buttons i√ßinde tut
    if(getComputedStyle(no).position !== 'absolute'){
      no.style.position = 'absolute';
    }
    no.style.left = left + 'px';
    no.style.top  = top  + 'px';
  }

  /* ---- Smart Messaging ---- */
  const MSG = encodeURIComponent("Evet dedim! ƒ∞lk bulu≈ümayƒ± planlayalƒ±m mƒ±? üíò");
  function openWhatsApp(){
    // Uygulamayƒ± dene, sonra web'e d√º≈ü
    const app = `whatsapp://send?text=${MSG}`;
    const web = `https://wa.me/?text=${MSG}`;
    let bounced = false;
    const t = Date.now();
    setTimeout(()=>{ if(!bounced && Date.now()-t<1200) window.open(web, '_blank'); }, 700);
    window.location.href = app;
    setTimeout(()=> bounced=true, 1200);
  }
  function openInstagram(){
    // App -> web fallback
    const app = 'instagram://direct';
    const web = 'https://www.instagram.com/direct/inbox/';
    let bounced = false;
    const t = Date.now();
    setTimeout(()=>{ if(!bounced && Date.now()-t<1200) window.open(web, '_blank'); }, 700);
    window.location.href = app;
    setTimeout(()=> bounced=true, 1200);
  }
  function openSmart(){
    // Mobilde √∂nce WhatsApp, sonra Instagram, sonra web WA
    const isMobile = /Android|iPhone|iPad|iPod/i.test(navigator.userAgent);
    if(isMobile){
      // WA -> IG -> WA Web
      const webWa = `https://wa.me/?text=${MSG}`;
      const step1 = () => { window.location.href = `whatsapp://send?text=${MSG}`; };
      const step2 = () => { window.location.href = 'instagram://direct'; };
      const step3 = () => { window.open(webWa, '_blank'); };
      // zincir
      step1();
      setTimeout(step2, 900);
      setTimeout(step3, 1800);
    } else {
      window.open(`https://wa.me/?text=${MSG}`, '_blank');
    }
  }

  /* ---- Events ---- */
  no.addEventListener('click', ()=>{
    noCount++;
    applyYesGrowth();
    setNoText();
    mascotReact();
    moveNoInside();
    vibrate(12);
  });

  function onYes(){
    burstHearts();
    vibrate(20);
    bubble.textContent = "YAAA≈ûASIN! üéâ Bir mesaj atƒ±p planƒ± konu≈üalƒ±m mƒ±?";
    mouth.setAttribute('d','M40 56 Q50 70 60 56');
    no.disabled = true; no.style.opacity=.4;
    yesButtons.forEach(b=>{ b.textContent="Anla≈ütƒ±k üíû"; b.disabled=true; });
    // Akƒ±llƒ± Mesaj panelini a√ß
    smart.classList.add('show');
  }
  yesButtons.forEach(b => b.addEventListener('click', onYes));

  btnSmart.addEventListener('click', openSmart);
  btnWA.addEventListener('click', openWhatsApp);
  btnIG.addEventListener('click', openInstagram);

  // keyboard accessibility
  [yesTop, yesFab, no, btnSmart, btnWA, btnIG].forEach(el=>{
    if(!el) return;
    el.addEventListener('keyup', e=>{ if(e.key==='Enter' || e.key===' ') el.click(); });
  });

  // init
  setNoText();
  applyYesGrowth();
})();
</script>
</body>
</html>
