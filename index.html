<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
<title>Benimle çıkar mısın? 💗</title>
<style>
  :root{
    --bg:#fcfbfe; --ink:#222; --muted:#777;
    --yes:#ff5a8b; --no:#6b7cff; --card:#fff; --ring:#f1e7ff;
    --yes-scale:1;           /* JS ile güncellenir */
    --yes-font:1rem;         /* JS ile güncellenir */
    --yes-pad:14px 22px;     /* JS ile güncellenir */
  }
  @media (prefers-color-scheme: dark){
    :root{
      --bg:#141318; --ink:#eee; --muted:#a9a9a9;
      --card:#1a1820; --ring:#2a2135;
      --yes:#ff4d8d; --no:#7d88ff;
    }
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0;
    padding: max(12px, env(safe-area-inset-top)) max(12px, env(safe-area-inset-right))
             max(80px, env(safe-area-inset-bottom)) max(12px, env(safe-area-inset-left));
    background:
      radial-gradient(900px 600px at 15% 10%, #ffe9f3 0, transparent 55%),
      radial-gradient(900px 600px at 85% 90%, #e9ebff 0, transparent 55%),
      var(--bg);
    color:var(--ink);
    font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial;
    display:grid; place-items:center;
  }
  @media (prefers-color-scheme: dark){
    body{
      background:
        radial-gradient(900px 600px at 15% 10%, #2a1e27 0, transparent 55%),
        radial-gradient(900px 600px at 85% 90%, #1c1f34 0, transparent 55%),
        var(--bg);
    }
  }

  .card{
    width:min(720px, 100%);
    background:var(--card);
    border-radius:28px;
    padding:clamp(18px, 4vw, 36px) clamp(14px, 4vw, 24px) 18px;
    box-shadow:0 12px 40px rgba(0,0,0,.08);
    position:relative; overflow:visible;
  }
  @media (prefers-color-scheme: dark){
    .card{ box-shadow:0 12px 40px rgba(0,0,0,.35); }
  }

  h1{
    margin:0 0 6px;
    text-align:center;
    font-size:clamp(24px, 7vw, 42px);
    font-weight:900; letter-spacing:-.02em;
  }
  p.sub{
    margin:0; text-align:center; color:var(--muted);
    font-size:clamp(14px, 3.6vw, 16px)
  }

  .ring{
    position:absolute; inset:-40%; border-radius:999px;
    background: radial-gradient(circle at 50% 50%, var(--ring), transparent 60%);
    filter: blur(10px); opacity:.5; pointer-events:none;
  }

  .buttons{
    margin: min(5vw,22px) auto 8px;
    display:flex; gap:12px; justify-content:center; align-items:center; flex-wrap:wrap;
    min-height:90px; overflow:visible;
  }
  @media (max-width:520px){
    .buttons{ flex-direction:column; gap:10px; }
  }

  button{
    border:0; border-radius:16px;
    padding:14px 22px;
    min-width: 200px;      /* genişliği serbest bırakıyoruz; büyüme net görünür */
    width: auto;
    min-height:48px;
    font-weight:800; font-size:clamp(16px, 4.5vw, 18px);
    cursor:pointer; touch-action:manipulation;
    box-shadow:0 8px 24px rgba(0,0,0,.08);
    transition:transform .18s ease, opacity .2s ease, background-color .2s ease, color .2s ease;
  }
  @media (prefers-color-scheme: dark){
    button{ box-shadow:0 8px 24px rgba(0,0,0,.35); }
  }

  .btn-yes{
    background:var(--yes); color:#fff;
    transform: scale(var(--yes-scale));
    font-size: calc(var(--yes-font));
    padding: var(--yes-pad);
  }
  .btn-yes:active{ transform: scale(calc(var(--yes-scale) * .98)); }
  .btn-no{ background:var(--no); color:#fff; }
  .btn-no:active{ opacity:.9 }

  /* Altta sabit Evet (tek elle kullanım) */
  .fab{
    position: fixed;
    left: 50%;
    bottom: max(12px, env(safe-area-inset-bottom));
    transform: translateX(-50%);
    z-index: 50;
    display:none; /* geniş ekranda gizli */
  }
  .fab .btn-yes{
    border-radius:999px;
    min-width: clamp(220px, 70vw, 420px);
    min-height:56px;
  }
  @media (max-width:640px){
    .fab{ display:block; }
  }

  /* Maskot */
  .mascot-wrap{
    display:flex; gap:14px; align-items:center; justify-content:center; padding:10px 0 0; flex-wrap:wrap;
  }
  .bubble{
    background:#fff; border:2px solid #f7d9e5; border-radius:14px; padding:10px 14px; font-weight:700;
    box-shadow:0 8px 24px rgba(0,0,0,.04);
    max-width: min(520px, 90%);
    font-size:clamp(14px, 3.8vw, 16px);
    text-align:center;
  }
  @media (prefers-color-scheme: dark){
    .bubble{ background:#201d25; border-color:#3a2d3a; }
  }
  .face{ width: clamp(72px, 24vw, 96px); height:auto; filter: drop-shadow(0 8px 16px rgba(0,0,0,.10)); }

  .tiny{ text-align:center; color:var(--muted); font-size:12px; margin-top:8px }

  /* animasyonlar */
  @keyframes shake {0%,100%{transform:translateX(0)}25%{transform:translateX(-6px)}75%{transform:translateX(6px)}}
  .shake{ animation:shake .35s ease both; }
  @keyframes pop {0%{transform:scale(.9); opacity:0}100%{transform:scale(1); opacity:1}}
  .pop{ animation:pop .2s ease both }
  .drop{ position:absolute; width:6px; height:8px; background:#7cc6ff; border-radius:50% 50% 60% 60%; opacity:.9; transform:translateY(0); animation:fall .9s ease-in forwards; }
  @keyframes fall{ to{ transform:translateY(24px); opacity:0 } }
</style>
</head>
<body>
  <main class="card" aria-live="polite">
    <div class="ring"></div>
    <h1>Benimle çıkar mısın? 🫶</h1>
    <p class="sub">Söz, her “Hayır”dan sonra <strong>Evet</strong> biraz daha ikna olur 😇</p>

    <div class="buttons" id="buttons">
      <button class="btn-yes" id="yesTop" aria-label="Evet">Evet</button>
      <button class="btn-no" id="no" aria-label="Hayır">Hayır</button>
    </div>

    <div class="mascot-wrap">
      <svg id="face" class="face" viewBox="0 0 100 100" aria-hidden="true">
        <path id="heart" d="M50 83C38 72 16 58 16 38a16 16 0 0 1 30-8 16 16 0 0 1 30 8c0 20-22 34-26 45z" fill="#ffd7e5" stroke="#ffb3cd" stroke-width="3"/>
        <circle id="eyeL" cx="39" cy="43" r="3.5" fill="#333"/>
        <circle id="eyeR" cx="61" cy="43" r="3.5" fill="#333"/>
        <path id="mouth" d="M40 58 Q50 64 60 58" stroke="#333" stroke-width="3" fill="none" stroke-linecap="round"/>
      </svg>
      <div id="bubble" class="bubble">Merhaba! Cevabını merak ediyorum ✨</div>
    </div>
    <p class="tiny">İpucu: Hayır’a bastıkça “Hayır” daha da hayır olur, “Evet” büyür.</p>
  </main>

  <!-- Altta sabit Evet -->
  <div class="fab">
    <button class="btn-yes" id="yesFab" aria-label="Evet (altta)">Evet</button>
  </div>

<script>
(() => {
  const yesTop = document.getElementById('yesTop');
  const yesFab = document.getElementById('yesFab');   // alttaki evet
  const yesButtons = [yesTop, yesFab];
  const no  = document.getElementById('no');
  const bubble = document.getElementById('bubble');
  const face = document.getElementById('face');
  const mouth = document.getElementById('mouth');

  const noTexts = [
    "Hayır","HAYIR.","Net: Hayır ❌","Asla.","Israr etme, hayır.",
    "Konu kapandı: Hayır.","Son kararım: Hayır.","Hayır ve tekrar hayır.",
    "Hâlâ hayır.","Kesinlikle HAYIR."
  ];

  let noCount = 0;

  /* --- Büyüme: font + padding + scale (senkron) --- */
  function applyYesGrowth(){
    // kademeli artış: her hayır %15 büyüme, üst sınır ekran genişliğine göre
    const baseScale = 1 + noCount * 0.15;
    const maxScale = 3.0; // aşırı büyümeyi sınırlayalım
    const scale = Math.min(baseScale, maxScale);
    const font = Math.min(1 + noCount * 0.08, 1.9); // rem çarpanı
    const padV = Math.min(14 + noCount * 2, 26);    // dikey padding
    const padH = Math.min(22 + noCount * 6, 60);    // yatay padding

    document.documentElement.style.setProperty('--yes-scale', scale.toString());
    document.documentElement.style.setProperty('--yes-font', `calc(1rem * ${font})`);
    document.documentElement.style.setProperty('--yes-pad', `${padV}px ${padH}px`);
  }

  function updateNoText(){
    const idx = Math.min(noCount, noTexts.length-1);
    no.textContent = noTexts[idx];
  }

  function mascotReact(){
    if(noCount === 0){
      mouth.setAttribute('d', 'M40 58 Q50 64 60 58');
      bubble.textContent = "Merhaba! Cevabını merak ediyorum ✨";
    } else if(noCount <= 2){
      mouth.setAttribute('d', 'M40 60 Q50 62 60 60');
      bubble.textContent = "Naz mı yapıyorsun? 🙂";
    } else if(noCount <= 4){
      mouth.setAttribute('d', 'M40 63 Q50 58 60 63');
      bubble.textContent = "Of… peki, yine de deniyorum.";
    } else if(noCount <= 7){
      mouth.setAttribute('d', 'M40 65 Q50 56 60 65');
      bubble.textContent = "Kalbim minicik kırılıyor… 💧";
      tear(42, 48); tear(58, 48);
    } else {
      mouth.setAttribute('d', 'M40 66 Q50 54 60 66');
      bubble.textContent = "Tamam… ama içimde hâlâ bir EVET hissi var 😤";
      tear(42, 48); tear(58, 48);
    }
    face.classList.remove('shake'); bubble.classList.remove('pop');
    void face.offsetWidth; face.classList.add('shake'); bubble.classList.add('pop');
  }

  function tear(x, y){
    const d = document.createElement('div');
    d.className = 'drop';
    const rect = face.getBoundingClientRect();
    d.style.left = (rect.left + (x/100)*rect.width) + 'px';
    d.style.top  = (rect.top + (y/100)*rect.height) + 'px';
    document.body.appendChild(d);
    d.addEventListener('animationend', ()=> d.remove());
  }

  function vibrate(ms=12){
    if (window.navigator && typeof window.navigator.vibrate === 'function'){
      window.navigator.vibrate(ms);
    }
    // iOS'ta çoğu durumda yok; yine de sessiz geçiyoruz.
  }

  no.addEventListener('click', () => {
    noCount++;
    applyYesGrowth();
    updateNoText();
    mascotReact();
    vibrate(10);
  });

  function onYes(){
    bubble.textContent = "YAŞASIN! 🎉 O zaman tatlı bir plan yapalım.";
    mouth.setAttribute('d', 'M40 56 Q50 70 60 56');
    no.disabled = true; no.style.opacity = .4;
    yesButtons.forEach(btn => { btn.textContent = "Anlaştık 💞"; btn.disabled = true; });
    vibrate(20);
  }

  yesButtons.forEach(btn => btn.addEventListener('click', onYes));

  // ilk yükleme
  updateNoText();
  applyYesGrowth();
})();
</script>
</body>
</html>
